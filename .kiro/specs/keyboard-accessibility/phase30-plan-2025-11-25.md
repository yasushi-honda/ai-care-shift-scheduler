# Phase 30: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

**ä½œæˆæ—¥**: 2025-11-25
**ä»•æ§˜ID**: keyboard-accessibility
**Phase**: 30
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ”„ å®Ÿè£…ä¸­

---

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

ã‚·ãƒ•ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚»ãƒ«ã‚’ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§æ“ä½œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚Tab/çŸ¢å°ã‚­ãƒ¼ã§ã‚»ãƒ«é–“ã‚’ç§»å‹•ã—ã€Enter/Spaceã§ã‚·ãƒ•ãƒˆç·¨é›†ã‚’è¡Œãˆã¾ã™ã€‚

### ç›®æ¨™

- âœ… Tabã‚­ãƒ¼ã§ã‚»ãƒ«é–“ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç§»å‹•
- âœ… Enterã‚­ãƒ¼ã§ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºï¼ˆã‚·ãƒ³ã‚°ãƒ«ã‚¯ãƒªãƒƒã‚¯ç›¸å½“ï¼‰
- âœ… Spaceã‚­ãƒ¼ã§ã‚·ãƒ•ãƒˆã‚µã‚¤ã‚¯ãƒ«ï¼ˆãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ç›¸å½“ï¼‰
- âœ… ariaå±æ€§ã«ã‚ˆã‚‹ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ

---

## æŠ€è¡“è¨­è¨ˆ

### 1. ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

**ã‚»ãƒ«ã‚’ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½ã«ã™ã‚‹:**
```tsx
<td
  tabIndex={0}
  role="button"
  aria-label={`${staffName} ${date} ${shiftType}`}
  onKeyDown={handleKeyDown}
  ...
>
```

### 2. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆ

**å¯¾å¿œã‚­ãƒ¼:**
| ã‚­ãƒ¼ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|------|-----------|
| Tab | æ¬¡ã®ã‚»ãƒ«ã¸ç§»å‹• |
| Shift+Tab | å‰ã®ã‚»ãƒ«ã¸ç§»å‹• |
| Enter | ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º |
| Space | ã‚·ãƒ•ãƒˆã‚µã‚¤ã‚¯ãƒ« |
| Escape | ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹ |

**å®Ÿè£…:**
```typescript
const handleKeyDown = (e: React.KeyboardEvent, /* params */) => {
  if (e.key === 'Enter') {
    e.preventDefault();
    openEditModal(/* params */);
  } else if (e.key === ' ') {
    e.preventDefault();
    handleDoubleClick(/* params */);
  }
};
```

### 3. ARIAå±æ€§

```tsx
<td
  role="button"
  aria-label={`${staffName}ã®${date}ã®ã‚·ãƒ•ãƒˆ: ${shiftType}`}
  aria-describedby="shift-instructions"
>
```

---

## WBSï¼ˆä½œæ¥­åˆ†è§£å›³ï¼‰

```mermaid
graph TD
    A[Phase 30: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£] --> B[30.1 è¨ˆç”»ãƒ»è¨­è¨ˆ]
    A --> C[30.2 ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†]
    A --> D[30.3 ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆ]
    A --> E[30.4 ARIAå±æ€§]
    A --> F[30.5 E2Eãƒ†ã‚¹ãƒˆ]
    A --> G[30.6 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™]

    B --> B1[ç¾çŠ¶åˆ†æ]
    B --> B2[æŠ€è¡“è¨­è¨ˆ]

    C --> C1[tabIndexè¿½åŠ ]
    C --> C2[ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«]

    D --> D1[handleKeyDownå®Ÿè£…]
    D --> D2[Enter/Spaceå¯¾å¿œ]

    E --> E1[roleå±æ€§]
    E --> E2[aria-label]

    F --> F1[ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆè¿½åŠ ]

    G --> G1[å®Œäº†è¨˜éŒ²]
```

---

## ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆ

```mermaid
gantt
    title Phase 30 å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
    dateFormat HH:mm
    axisFormat %H:%M

    section è¨ˆç”»ãƒ»è¨­è¨ˆ
    ç¾çŠ¶åˆ†æ           :done, a1, 00:00, 10m
    æŠ€è¡“è¨­è¨ˆ           :done, a2, after a1, 10m

    section ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†
    tabIndexè¿½åŠ        :b1, after a2, 10m
    ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚¹ã‚¿ã‚¤ãƒ« :b2, after b1, 10m

    section ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆ
    handleKeyDown      :c1, after b2, 15m
    Enter/Spaceå¯¾å¿œ    :c2, after c1, 10m

    section ARIAå±æ€§
    role/aria-label    :d1, after c2, 10m

    section E2Eãƒ†ã‚¹ãƒˆ
    ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ   :e1, after d1, 15m

    section å®Œäº†å‡¦ç†
    ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™   :f1, after e1, 15m
    Git push           :f2, after f1, 5m
```

---

## æˆåŠŸåŸºæº–

- [ ] Tabã‚­ãƒ¼ã§ã‚»ãƒ«é–“ç§»å‹•
- [ ] Enterã§ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
- [ ] Spaceã§ã‚·ãƒ•ãƒˆã‚µã‚¤ã‚¯ãƒ«
- [ ] ariaå±æ€§é©åˆ‡
- [ ] E2Eãƒ†ã‚¹ãƒˆé€šé

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Phase 29å®Œäº†è¨˜éŒ²](../mobile-touch-support/phase29-completion-2025-11-25.md)
- [ShiftTable.tsx](../../../components/ShiftTable.tsx)
