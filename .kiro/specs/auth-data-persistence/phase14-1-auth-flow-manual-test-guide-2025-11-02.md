# Phase 14.1 æ‰‹å‹•ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰ï¼šèªè¨¼ãƒ•ãƒ­ãƒ¼æ¤œè¨¼

**ä½œæˆæ—¥**: 2025å¹´11æœˆ2æ—¥
**ä»•æ§˜ID**: auth-data-persistence
**Phase**: Phase 14.1ï¼ˆèªè¨¼ãƒ•ãƒ­ãƒ¼E2Eãƒ†ã‚¹ãƒˆï¼‰
**å¯¾è±¡ç’°å¢ƒ**: æœ¬ç•ªç’°å¢ƒï¼ˆhttps://ai-care-shift-scheduler.web.appï¼‰
**è¨€èª**: æ—¥æœ¬èª

---

## ğŸ“‹ ç›®çš„

Google OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’æ‰‹å‹•ã§æ¤œè¨¼ã—ã¾ã™ã€‚æœ¬ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦æ¤œè¨¼ã‚’å®Ÿæ–½ã™ã‚‹ã“ã¨ã§ã€Phase 14.1ã®è¦ä»¶ï¼ˆRequirements 1.1-1.13ï¼‰ãŒæº€ãŸã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚

---

## ğŸ¯ æ¤œè¨¼é …ç›®

1. **åˆå›ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã¨super-adminä»˜ä¸ã®æ¤œè¨¼**
2. **2äººç›®ä»¥é™ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã®æ¤œè¨¼**
3. **ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã¨å†ãƒ­ã‚°ã‚¤ãƒ³ã®æ¤œè¨¼**

---

## âœ… æ¤œè¨¼æ‰‹é †

### æ¤œè¨¼1: åˆå›ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã¨super-adminä»˜ä¸

**ç›®çš„**: åˆå›ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è‡ªå‹•çš„ã«super-adminæ¨©é™ãŒä»˜ä¸ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

#### æ‰‹é †

1. **äº‹å‰æº–å‚™**
   - [ ] æ–°ã—ã„Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç”¨æ„ã™ã‚‹ï¼ˆã¾ãŸã¯Firestoreã‹ã‚‰æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ï¼‰
   - [ ] Firebase Consoleã§Firestoreã‚’é–‹ãï¼ˆhttps://console.firebase.google.comï¼‰
   - [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: `ai-care-shift-scheduler`
   - [ ] Firestore Database > users ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹ã

2. **ãƒ­ã‚°ã‚¤ãƒ³å®Ÿè¡Œ**
   - [ ] æœ¬ç•ªç’°å¢ƒã«ã‚¢ã‚¯ã‚»ã‚¹: https://ai-care-shift-scheduler.web.app
   - [ ] ã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
   - [ ] æ¨©é™è¨±å¯ç”»é¢ã§ã€Œè¨±å¯ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

3. **super-adminæ¨©é™ã®ç¢ºèª**
   - [ ] ã‚¢ãƒ—ãƒªã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ç”»é¢ä¸Šéƒ¨ã«ã€Œç®¡ç†ã€ã¾ãŸã¯ã€ŒAdminã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] å·¦ä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

4. **Firestoreãƒ‡ãƒ¼ã‚¿ç¢ºèª**
   - [ ] Firebase Console > Firestore > users ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
   - [ ] è‡ªåˆ†ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆUIDï¼‰ã‚’é–‹ã
   - [ ] `role` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒ `super-admin` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] `email` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] `facilities` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç©ºã®é…åˆ— `[]` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] `createdAt`, `lastLoginAt` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç¾åœ¨æ™‚åˆ»ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

5. **ç®¡ç†ç”»é¢ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª**
   - [ ] ã€Œç®¡ç†ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] `/admin` ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ã€Œæ–½è¨­ç®¡ç†ã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] æ–½è¨­ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆåˆå›ã¯ç©ºï¼‰
   - [ ] ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã«è‡ªåˆ†ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

#### æœŸå¾…çµæœ

- âœ… ãƒ­ã‚°ã‚¤ãƒ³ãŒæˆåŠŸã™ã‚‹
- âœ… Firestoreã®usersãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã« `role: super-admin` ãŒè¨˜éŒ²ã•ã‚Œã‚‹
- âœ… ç®¡ç†ç”»é¢ï¼ˆ/adminï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- âœ… å…¨ã¦ã®ç®¡ç†æ©Ÿèƒ½ï¼ˆæ–½è¨­ç®¡ç†ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹

---

### æ¤œè¨¼2: 2äººç›®ä»¥é™ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²

**ç›®çš„**: 2äººç›®ä»¥é™ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

#### æ‰‹é †

1. **äº‹å‰æº–å‚™**
   - [ ] æ¤œè¨¼1ã‚’å®Œäº†ã—ã€super-adminãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆæ¸ˆã¿
   - [ ] åˆ¥ã®Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç”¨æ„ã™ã‚‹ï¼ˆ2äººç›®ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨ï¼‰

2. **ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ**
   - [ ] ç”»é¢å³ä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] ã€Œãƒ­ã‚°ã‚¢ã‚¦ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹ã“ã¨ã‚’ç¢ºèª

3. **2äººç›®ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³**
   - [ ] ã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] åˆ¥ã®Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
   - [ ] æ¨©é™è¨±å¯ç”»é¢ã§ã€Œè¨±å¯ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

4. **ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—ç”»é¢ã®ç¢ºèª**
   - [ ] `/forbidden` ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ã€Œã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€ã¨ã„ã†ãƒ˜ãƒƒãƒ‡ã‚£ãƒ³ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ã€Œæ–½è¨­ã¸ã®æ‹›å¾…ã‚’å—ã‘ã‚‹ã‹ã€ç®¡ç†è€…ã«é€£çµ¡ã—ã¦ãã ã•ã„ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ç®¡ç†ç”»é¢ã¸ã®ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œãªã„ã“ã¨ã‚’ç¢ºèª

5. **Firestoreãƒ‡ãƒ¼ã‚¿ç¢ºèª**
   - [ ] Firebase Console > Firestore > users ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
   - [ ] 2äººç›®ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆUIDï¼‰ã‚’é–‹ã
   - [ ] `role` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨ã—ãªã„ã‹ã€`null` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] `facilities` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç©ºã®é…åˆ— `[]` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

#### æœŸå¾…çµæœ

- âœ… ãƒ­ã‚°ã‚¤ãƒ³ãŒæˆåŠŸã™ã‚‹
- âœ… `/forbidden` ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹
- âœ… ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„

---

### æ¤œè¨¼3: æ‹›å¾…ã«ã‚ˆã‚‹æ¨©é™ä»˜ä¸ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**ç›®çš„**: super-adminãŒæ‹›å¾…æ©Ÿèƒ½ã§2äººç›®ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’ä»˜ä¸ã§ãã‚‹ã“ã¨ã‚’ç¢ºèª

#### æ‰‹é †

1. **super-adminã§ãƒ­ã‚°ã‚¤ãƒ³**
   - [ ] 2äººç›®ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
   - [ ] super-adminï¼ˆæ¤œè¨¼1ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰ã§ãƒ­ã‚°ã‚¤ãƒ³

2. **æ–½è¨­ä½œæˆ**
   - [ ] ç®¡ç†ç”»é¢ï¼ˆ/adminï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹
   - [ ] ã€Œæ–½è¨­ç®¡ç†ã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] ã€Œæ–°è¦æ–½è¨­ä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] æ–½è¨­åã‚’å…¥åŠ›ï¼ˆä¾‹: ã€Œãƒ†ã‚¹ãƒˆæ–½è¨­1ã€ï¼‰
   - [ ] ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] æ–½è¨­ãŒä½œæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

3. **æ‹›å¾…ãƒªãƒ³ã‚¯ä½œæˆ**
   - [ ] ä½œæˆã—ãŸæ–½è¨­ã®è©³ç´°ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
   - [ ] ã€Œãƒ¡ãƒ³ãƒãƒ¼ã‚’æ‹›å¾…ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] 2äººç›®ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
   - [ ] ãƒ­ãƒ¼ãƒ«ã‚’é¸æŠï¼ˆä¾‹: ã€Œeditorã€ï¼‰
   - [ ] ã€Œæ‹›å¾…ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] æ‹›å¾…ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] æ‹›å¾…ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼

4. **æ‹›å¾…ãƒªãƒ³ã‚¯ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’å–å¾—**
   - [ ] super-adminã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
   - [ ] 2äººç›®ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³
   - [ ] æ‹›å¾…ãƒªãƒ³ã‚¯ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã«è²¼ã‚Šä»˜ã‘ã¦ã‚¢ã‚¯ã‚»ã‚¹
   - [ ] ã€Œæ‹›å¾…ã‚’å—ã‘å…¥ã‚Œã‚‹ã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ã€Œæ‹›å¾…ã‚’å—ã‘å…¥ã‚Œã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] ãƒ›ãƒ¼ãƒ ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

5. **æ¨©é™ä»˜ä¸å¾Œã®ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª**
   - [ ] å·¦ä¸Šã®æ–½è¨­é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«ã€Œãƒ†ã‚¹ãƒˆæ–½è¨­1ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ã€Œãƒ†ã‚¹ãƒˆæ–½è¨­1ã€ã‚’é¸æŠ
   - [ ] ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†ã€ã‚·ãƒ•ãƒˆä½œæˆãªã©ã®æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆeditorãƒ­ãƒ¼ãƒ«ã®å ´åˆï¼‰
   - [ ] ç®¡ç†ç”»é¢ï¼ˆ/adminï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã“ã¨ã‚’ç¢ºèªï¼ˆeditorãƒ­ãƒ¼ãƒ«ã®å ´åˆï¼‰

6. **Firestoreãƒ‡ãƒ¼ã‚¿ç¢ºèª**
   - [ ] Firebase Console > Firestore > users ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
   - [ ] 2äººç›®ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆUIDï¼‰ã‚’é–‹ã
   - [ ] `facilities` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ‹›å¾…ã•ã‚ŒãŸæ–½è¨­ã®IDã¨ãƒ­ãƒ¼ãƒ«ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
     ```json
     facilities: [
       {
         facilityId: "xxx",
         role: "editor"
       }
     ]
     ```

#### æœŸå¾…çµæœ

- âœ… æ‹›å¾…ãƒªãƒ³ã‚¯ãŒä½œæˆã•ã‚Œã‚‹
- âœ… æ‹›å¾…ãƒªãƒ³ã‚¯ã‹ã‚‰æ¨©é™ã‚’å–å¾—ã§ãã‚‹
- âœ… æ¨©é™ä»˜ä¸å¾Œã€æ–½è¨­ã®ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- âœ… Firestoreã®usersãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ–½è¨­ã¨ãƒ­ãƒ¼ãƒ«ãŒè¿½åŠ ã•ã‚Œã‚‹

---

### æ¤œè¨¼4: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã¨å†ãƒ­ã‚°ã‚¤ãƒ³

**ç›®çš„**: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¾Œã€å†ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ä»¥å‰ã®çŠ¶æ…‹ãŒå¾©å…ƒã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

#### æ‰‹é †

1. **ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ**
   - [ ] ç”»é¢å³ä¸Šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] ã€Œãƒ­ã‚°ã‚¢ã‚¦ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] URLãŒ `/` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

2. **å†ãƒ­ã‚°ã‚¤ãƒ³**
   - [ ] ã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - [ ] åŒã˜Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
   - [ ] ã‚¢ãƒ—ãƒªã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

3. **çŠ¶æ…‹å¾©å…ƒã®ç¢ºèª**
   - [ ] ä»¥å‰é¸æŠã—ã¦ã„ãŸæ–½è¨­ãŒå¾©å…ƒã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰
   - [ ] ã‚¹ã‚¿ãƒƒãƒ•æƒ…å ±ãŒå¾©å…ƒã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ã‚·ãƒ•ãƒˆãƒ‡ãƒ¼ã‚¿ãŒå¾©å…ƒã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

#### æœŸå¾…çµæœ

- âœ… ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãŒæˆåŠŸã™ã‚‹
- âœ… ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹
- âœ… å†ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ä»¥å‰ã®çŠ¶æ…‹ãŒå¾©å…ƒã•ã‚Œã‚‹

---

## ğŸ“Š æ¤œè¨¼çµæœè¨˜éŒ²ã‚·ãƒ¼ãƒˆ

### æ¤œè¨¼æ—¥æ™‚

**å®Ÿæ–½æ—¥**: ___________
**å®Ÿæ–½è€…**: ___________
**ç’°å¢ƒ**: æœ¬ç•ªç’°å¢ƒï¼ˆhttps://ai-care-shift-scheduler.web.appï¼‰

### æ¤œè¨¼çµæœ

| æ¤œè¨¼é …ç›® | çµæœ | å‚™è€ƒ |
|---|---|---|
| æ¤œè¨¼1: åˆå›ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã¨super-adminä»˜ä¸ | â¬œ åˆæ ¼ / â¬œ ä¸åˆæ ¼ | |
| æ¤œè¨¼2: 2äººç›®ä»¥é™ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ² | â¬œ åˆæ ¼ / â¬œ ä¸åˆæ ¼ | |
| æ¤œè¨¼3: æ‹›å¾…ã«ã‚ˆã‚‹æ¨©é™ä»˜ä¸ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | â¬œ åˆæ ¼ / â¬œ ä¸åˆæ ¼ | |
| æ¤œè¨¼4: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã¨å†ãƒ­ã‚°ã‚¤ãƒ³ | â¬œ åˆæ ¼ / â¬œ ä¸åˆæ ¼ | |

### ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œ

| å•é¡Œ | é‡è¦åº¦ | è©³ç´° | å¯¾å¿œäºˆå®š |
|---|---|---|---|
| | â¬œ é«˜ / â¬œ ä¸­ / â¬œ ä½ | | |
| | â¬œ é«˜ / â¬œ ä¸­ / â¬œ ä½ | | |

### ç·åˆè©•ä¾¡

â¬œ å…¨é …ç›®åˆæ ¼ï¼ˆPhase 14.1ã®è¦ä»¶ã‚’æº€ãŸã™ï¼‰
â¬œ ä¸€éƒ¨ä¸åˆæ ¼ï¼ˆä¿®æ­£ãŒå¿…è¦ï¼‰

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆsuper-adminã®ã¯ãšï¼‰

**åŸå› **: åˆå›ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¤å®šã®ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼

**ç¢ºèªæ–¹æ³•**:
1. Firebase Console > Firestore > users ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
2. æ—¢ã«ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå­˜åœ¨ã—ãªã„ã‹ç¢ºèª

**å¯¾å‡¦æ–¹æ³•**:
1. Firestoreã‹ã‚‰æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤
2. ã¾ãŸã¯ã€Firebase Console > Authentication > Usersã‹ã‚‰æ‰‹å‹•ã§super-adminãƒ­ãƒ¼ãƒ«ã‚’ä»˜ä¸

### å•é¡Œ2: æ‹›å¾…ãƒªãƒ³ã‚¯ãŒå‹•ä½œã—ãªã„

**åŸå› **: ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™åˆ‡ã‚Œã€ã¾ãŸã¯æ‹›å¾…ãƒ‡ãƒ¼ã‚¿ã®ä¸æ•´åˆ

**ç¢ºèªæ–¹æ³•**:
1. Firebase Console > Firestore > facilities/{facilityId}/invitations ã‚’ç¢ºèª
2. æ‹›å¾…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®status, expiresAtãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç¢ºèª

**å¯¾å‡¦æ–¹æ³•**:
1. æ–°ã—ã„æ‹›å¾…ãƒªãƒ³ã‚¯ã‚’ä½œæˆ
2. Firebase Console > Authenticationã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèª

### å•é¡Œ3: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¾Œã€è‡ªå‹•çš„ã«å†ãƒ­ã‚°ã‚¤ãƒ³ã•ã‚Œã‚‹

**åŸå› **: ãƒ–ãƒ©ã‚¦ã‚¶ã®Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆè‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½

**å¯¾å‡¦æ–¹æ³•**:
1. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
2. ã¾ãŸã¯ã€Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

---

## ğŸ“ é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **Phase 14.1è¨­è¨ˆæ›¸**: `.kiro/specs/auth-data-persistence/phase14-1-auth-flow-e2e-design-2025-11-02.md`
- **Phase 14ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: `.kiro/specs/auth-data-persistence/phase14-status-2025-11-01.md`
- **ä»•æ§˜æ›¸**: `.kiro/specs/auth-data-persistence/requirements.md` - Requirements 1.1-1.13
- **ã‚¿ã‚¹ã‚¯**: `.kiro/specs/auth-data-persistence/tasks.md` - Phase 14.1

---

**ä½œæˆæ—¥**: 2025å¹´11æœˆ2æ—¥
**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: æœ¬ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦æ‰‹å‹•æ¤œè¨¼ã‚’å®Ÿæ–½ã—ã€çµæœã‚’è¨˜éŒ²ã™ã‚‹
