@import 'tailwindcss';

@theme {
  --font-sans: Inter, sans-serif;

  --color-care-primary: #4338ca;
  --color-care-secondary: #4f46e5;
  --color-care-light: #e0e7ff;
  --color-care-dark: #3730a3;

  --color-btn-primary: #4f46e5;
  --color-btn-primary-hover: #4338ca;
  --color-btn-primary-active: #3730a3;

  --color-btn-success: #059669;
  --color-btn-success-hover: #047857;
  --color-btn-success-active: #065f46;

  --color-btn-secondary: #f3f4f6;
  --color-btn-secondary-hover: #e5e7eb;
  --color-btn-secondary-text: #374151;

  --min-width-btn-sm: 4rem;
  --min-width-btn-md: 5rem;

  --background-image-select-arrow: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");

  --animate-shimmer: shimmer 2s infinite;

  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility animate-slide-in {
  animation: slide-in 0.3s ease-out;

  /**
   * Phase 19.2.4: プログレスバーアニメーション
   */

  /**
   * Phase 19.2.4: トーストアニメーション
   */
}

@layer utilities {
  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  @keyframes progress-stripes {
    0% {
      background-position: 1rem 0;
    }
    100% {
      background-position: 0 0;
    }
  }

  @keyframes progress-indeterminate {
    0% {
      transform: translateX(-100%);
    }
    50% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(300%);
    }
  }
  @keyframes toast-enter {
    0% {
      transform: translateX(100%);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes toast-exit {
    0% {
      transform: translateX(0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateX(20px) scale(0.95);
      opacity: 0;
    }
  }
}

/**
 * Phase 19.2.2: タッチ操作最適化 - グローバルタッチフィードバックスタイル
 * - タップ時の視覚的フィードバック強化
 * - -webkit-tap-highlight-color: タップハイライト色のカスタマイズ
 * - touch-action: タッチ操作の最適化
 */
@layer base {
  /* すべてのインタラクティブ要素にタッチフィードバック */
  button,
  a,
  [role="button"],
  [role="link"] {
    -webkit-tap-highlight-color: rgba(59, 130, 246, 0.2); /* 青色半透明 */
    touch-action: manipulation; /* ダブルタップズーム無効化、シングルタップ高速化 */
  }

  /* フォーム要素のタッチ最適化 */
  input,
  select,
  textarea {
    touch-action: manipulation;
  }

  /* スクロール要素のタッチ最適化（慣性スクロール） */
  [class*="overflow-"],
  .overflow-auto,
  .overflow-scroll {
    -webkit-overflow-scrolling: touch; /* iOS慣性スクロール有効化 */
  }
}
