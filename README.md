# AIã‚·ãƒ•ãƒˆè‡ªå‹•ä½œæˆ

[![CI/CD Pipeline](https://github.com/yasushi-honda/ai-care-shift-scheduler/actions/workflows/ci.yml/badge.svg)](https://github.com/yasushi-honda/ai-care-shift-scheduler/actions/workflows/ci.yml)
[![Firebase Hosting](https://img.shields.io/badge/Firebase-Hosting-orange)](https://ai-care-shift-scheduler.web.app)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

ä»‹è­·ãƒ»ç¦ç¥‰äº‹æ¥­æ‰€å‘ã‘ã®AIã‚·ãƒ•ãƒˆè‡ªå‹•ä½œæˆã‚·ã‚¹ãƒ†ãƒ 

## ğŸŒŸ æ¦‚è¦

**AIã‚·ãƒ•ãƒˆè‡ªå‹•ä½œæˆ**ã¯ã€ä»‹è­·ãƒ»ç¦ç¥‰äº‹æ¥­æ‰€ã®ã‚·ãƒ•ãƒˆä½œæˆæ¥­å‹™ã‚’åŠ‡çš„ã«åŠ¹ç‡åŒ–ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Google ã®æœ€æ–°AIã€ŒGemini 2.5 Flash-Liteã€ã‚’æ´»ç”¨ã—ã€ã‚¹ã‚¿ãƒƒãƒ•ã®è³‡æ ¼ãƒ»å¸Œæœ›ãƒ»åŠ´åƒåŸºæº–æ³•ã‚’è€ƒæ…®ã—ãŸæœ€é©ãªã‚·ãƒ•ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

- âœ… **ã‚¹ã‚¿ãƒƒãƒ•æƒ…å ±ç®¡ç†**: åå‰ã€å½¹è·ã€è³‡æ ¼ã€å‹¤å‹™å¯å¦ã‚’ä¸€å…ƒç®¡ç†
- âœ… **ã‚·ãƒ•ãƒˆè¦ä»¶è¨­å®š**: æ™‚é–“å¸¯åˆ¥å¿…è¦äººå“¡ã¨è³‡æ ¼è¦ä»¶ã‚’è¨­å®š
- âœ… **ä¼‘æš‡ç”³è«‹ç®¡ç†**: ã‚¹ã‚¿ãƒƒãƒ•ã®å‹¤å‹™ä¸å¯æ—¥ã‚’ç°¡å˜ç™»éŒ²
- âœ… **AIã‚·ãƒ•ãƒˆè‡ªå‹•ç”Ÿæˆ**: Gemini AIã«ã‚ˆã‚‹æœ€é©åŒ–ï¼ˆCloud Functionså®Ÿè£…å¾Œï¼‰
- âœ… **ãƒ‡ãƒ¢ã‚·ãƒ•ãƒˆç”Ÿæˆ**: ãƒ©ãƒ³ãƒ€ãƒ ã‚·ãƒ•ãƒˆã§UIã‚’ä½“é¨“
- âœ… **ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º**: ç›´æ„Ÿçš„ãªã‚·ãƒ•ãƒˆç¢ºèª
- âœ… **CSV ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**: æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¸ã®é€£æº

## ğŸš€ ãƒ‡ãƒ¢

**æœ¬ç•ªç’°å¢ƒ**: https://ai-care-shift-scheduler.web.app

> âš ï¸ **æ³¨æ„**: ç¾åœ¨ã¯èªè¨¼æ©Ÿèƒ½ãŒãªã„ãŸã‚ã€èª°ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã™ã€‚æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ã¯å…¥åŠ›ã—ãªã„ã§ãã ã•ã„ã€‚

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š

- **[ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³](.kiro/NAVIGATION.md)** - å…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸ã®ç´¢å¼•
- **[ğŸ¯ AIçµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ](.kiro/specs/ai-shift-integration-test/IMPLEMENTATION_COMPLETE.md)** - ãƒ†ã‚¹ãƒˆçµæœãƒ»å®Ÿè£…è©³ç´°
- **[ğŸ—ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](.kiro/steering/tech.md)** - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»æŠ€è¡“æ±ºå®š
- **[ğŸ“‹ ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆä»•æ§˜](.kiro/steering/product.md)** - ãƒ“ã‚¸ãƒã‚¹è¦ä»¶

### ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯

| ç›®çš„ | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
|-----|------------|
| æ–°è¦é–‹ç™ºè€…ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚° | [NAVIGATION.md - ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°](.kiro/NAVIGATION.md#-æ–°è¦é–‹ç™ºè€…å‘ã‘ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°) |
| ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³• | [README.md - ãƒ†ã‚¹ãƒˆ](#-ãƒ†ã‚¹ãƒˆ) |
| ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° | [README.md - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°) |

## ğŸ“‹ å¿…è¦è¦ä»¶

- **Node.js**: 20.x LTS
- **npm**: 10.x
- **Firebase CLI**: 13.xï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ï¼‰
- **gcloud CLI**: æœ€æ–°ç‰ˆï¼ˆGCPæ“ä½œæ™‚ï¼‰

## ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/yasushi-honda/ai-care-shift-scheduler.git
cd ai-care-shift-scheduler
```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
npm install

# Cloud Functionsï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ï¼‰
cd functions
npm install
cd ..
```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€Firebaseè¨­å®šã‚’è¿½åŠ ï¼š

```bash
# Firebase Configuration
VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
VITE_FIREBASE_APP_ID=your-app-id
VITE_FIREBASE_MEASUREMENT_ID=your-measurement-id

# GCP Configuration
VITE_GCP_PROJECT_ID=your-project-id
VITE_GCP_PROJECT_NUMBER=your-project-number
```

> ğŸ“ **Note**: Firebase Console ã§ Web App ã‚’ä½œæˆã—ã€è¨­å®šã‚’å–å¾—ã—ã¦ãã ã•ã„ã€‚

### 4. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:5173 ã‚’é–‹ã

### 5. ãƒ“ãƒ«ãƒ‰

```bash
npm run build
```

æˆæœç‰©ã¯ `dist/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

## ğŸŒ ãƒ‡ãƒ—ãƒ­ã‚¤

### Firebase Hosting ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only hosting
```

### Cloud Functions ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
cd functions
npm run build
cd ..
firebase deploy --only functions
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
ai-care-shift-scheduler/
â”œâ”€â”€ .github/              # GitHub Actions CI/CD
â”œâ”€â”€ .kiro/                # Spec-Driven Development
â”‚   â”œâ”€â”€ steering/         # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–¹é‡
â”‚   â”‚   â”œâ”€â”€ product.md
â”‚   â”‚   â”œâ”€â”€ tech.md
â”‚   â”‚   â”œâ”€â”€ architecture.md
â”‚   â”‚   â”œâ”€â”€ structure.md
â”‚   â”‚   â””â”€â”€ implementation-log.md
â”‚   â””â”€â”€ specs/            # æ©Ÿèƒ½ä»•æ§˜ï¼ˆå°†æ¥ä½¿ç”¨ï¼‰
â”œâ”€â”€ components/           # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ services/             # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ functions/            # Cloud Functions
â”œâ”€â”€ public/               # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ App.tsx               # ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ types.ts              # TypeScriptå‹å®šç¾©
â”œâ”€â”€ firebase.json         # Firebaseè¨­å®š
â””â”€â”€ README.md             # æœ¬ãƒ•ã‚¡ã‚¤ãƒ«
```

è©³ç´°ã¯ [.kiro/steering/structure.md](.kiro/steering/structure.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Users     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ HTTPS
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firebase Hosting (CDN)      â”‚
â”‚  React + TypeScript          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cloud Functions (us-central1)       â”‚
â”‚  - generateShift                     â”‚
â”‚    (Gemini 2.5 Flash-Lite)           â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                      â”‚
    â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firestore           â”‚   â”‚Vertex AI â”‚
â”‚  (asia-northeast1)   â”‚   â”‚ Gemini   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è©³ç´°ã¯ [.kiro/steering/architecture.md](.kiro/steering/architecture.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React** 19.x - UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **TypeScript** 5.8.x - å‹å®‰å…¨ãªé–‹ç™º
- **Vite** 6.x - é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- **Tailwind CSS** 3.x - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆCSS

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Cloud Functions** (Gen 2) - ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹API
- **Vertex AI** - Gemini 2.5 Flash-Liteï¼ˆæœ€æ–°ç‰ˆï¼‰
- **Firestore** - NoSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Cloud Storage** - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

### ã‚¤ãƒ³ãƒ•ãƒ©
- **Firebase Hosting** - é™çš„ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- **GCP** - Google Cloud Platform
- **GitHub Actions** - CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

è©³ç´°ã¯ [.kiro/steering/tech.md](.kiro/steering/tech.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### Steeringï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–¹é‡ï¼‰
- [product.md](.kiro/steering/product.md) - ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ãƒ“ã‚¸ãƒã‚¹ç›®æ¨™
- [tech.md](.kiro/steering/tech.md) - æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã¨æŠ€è¡“çš„æ±ºå®š
- [architecture.md](.kiro/steering/architecture.md) - ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- [structure.md](.kiro/steering/structure.md) - ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã¨ã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³
- [implementation-log.md](.kiro/steering/implementation-log.md) - å®Ÿè£…ãƒ­ã‚°

### ãã®ä»–
- [CLAUDE.md](CLAUDE.md) - Claude Codeç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜

## ğŸš¦ CI/CD

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯GitHub Actionsã«ã‚ˆã‚‹è‡ªå‹•CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆæ¦‚è¦ï¼‰

ä»¥ä¸‹ã¯ç°¡ç•¥åŒ–ã•ã‚ŒãŸæ¦‚è¦ã§ã™ã€‚è©³ç´°ã¯ [`.github/workflows/ci.yml`](.github/workflows/ci.yml) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

```yaml
on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  build-and-test:
    # Node.js 20, npm ci
    - ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    - TypeScriptå‹ãƒã‚§ãƒƒã‚¯ï¼ˆnpx tsc --noEmitï¼‰
    - ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œï¼ˆnpm run buildï¼‰
    - æˆæœç‰©ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆ7æ—¥é–“ä¿å­˜ï¼‰

  deploy:
    # mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã®ã¿å®Ÿè¡Œ
    - ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
    - Firebase Hostingã¸è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆFirebaseExtended/action-hosting-deploy@v0ï¼‰
    - æœ¬ç•ªç’°å¢ƒ: https://ai-care-shift-scheduler.web.app
```

### è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã€GitHub ActionsãŒè‡ªå‹•çš„ã«Firebase Hostingã¸ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚

**å¿…è¦ãªè¨­å®š**:
- `FIREBASE_SERVICE_ACCOUNT` ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒGitHubãƒªãƒã‚¸ãƒˆãƒªã«è¨­å®šæ¸ˆã¿
- Firebase Hostingè¨­å®šãŒ `firebase.json` ã§å®šç¾©æ¸ˆã¿

**ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼**:
1. ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚’commit & push to main
2. GitHub ActionsãŒãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
3. ãƒ†ã‚¹ãƒˆæˆåŠŸå¾Œã€è‡ªå‹•çš„ã«Firebase Hostingã¸ãƒ‡ãƒ—ãƒ­ã‚¤
4. æœ¬ç•ªç’°å¢ƒãŒå³åº§ã«æ›´æ–°ã•ã‚Œã‚‹

### æ‰‹å‹•å®Ÿè¡Œ

1. ãƒªãƒã‚¸ãƒˆãƒªã® "Actions" ã‚¿ãƒ–ã‚’é–‹ã
2. "CI/CD Pipeline" ã‚’é¸æŠ
3. "Run workflow" ã‚’ã‚¯ãƒªãƒƒã‚¯

### ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ã®ãƒ‡ãƒ—ãƒ­ã‚¤

CI/CDã‚’çµŒç”±ã›ãšã€ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ç›´æ¥ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™:

```bash
# ãƒ“ãƒ«ãƒ‰
npm run build

# Firebase Hostingã¸ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only hosting
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ç¾çŠ¶ï¼ˆMVPï¼‰
- âš ï¸ **èªè¨¼ãªã—**: èª°ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- âš ï¸ **Firestoreå…¨é–‹æ”¾**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã¯é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
- âœ… **HTTPSé€šä¿¡**: ã™ã¹ã¦ã®é€šä¿¡ã¯æš—å·åŒ–
- âœ… **APIã‚­ãƒ¼éå…¬é–‹**: Cloud FunctionsçµŒç”±ã§Vertex AIã‚’å‘¼ã³å‡ºã—ï¼ˆå®Ÿè£…å¾Œï¼‰

### Phase 2ï¼ˆäºˆå®šï¼‰
- âœ… Firebase Authenticationå°å…¥
- âœ… Firestore Security Ruleså¼·åŒ–
- âœ… äº‹æ¥­æ‰€ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿åˆ†é›¢

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚

### çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆJestï¼‰

Cloud Functions APIã®å‹•ä½œã‚’æ¤œè¨¼ã™ã‚‹çµ±åˆãƒ†ã‚¹ãƒˆã§ã™ã€‚

```bash
# functionsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd functions

# çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆæœ¬ç•ªCloud Functions APIã‚’ä½¿ç”¨ï¼‰
npm run test:integration

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
export CLOUD_FUNCTION_URL=https://us-central1-ai-care-shift-scheduler.cloudfunctions.net/generateShift
export SKIP_AI_TESTS=false  # trueã«ã™ã‚‹ã¨AIå‘¼ã³å‡ºã—ã‚’ãƒ¢ãƒƒã‚¯åŒ–ï¼ˆCI/CDç”¨ï¼‰
```

**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**:
- âœ… åŸºæœ¬çš„ãªã‚·ãƒ•ãƒˆç”Ÿæˆï¼ˆ5åã‚¹ã‚¿ãƒƒãƒ•ï¼‰
- âœ… Firestoreã¸ã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜æ¤œè¨¼
- âœ… å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆç©ºé…åˆ—ã€æœªå®šç¾©ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€ã‚µã‚¤ã‚ºåˆ¶é™ï¼‰
- âœ… ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ï¼ˆå†ªç­‰æ€§ï¼‰æ¤œè¨¼
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆ5å/20å/50åã‚¹ã‚¿ãƒƒãƒ•ï¼‰

**å®Ÿè¡Œçµæœ**: 37/37 ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆ100%æˆåŠŸç‡ï¼‰

### E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰

ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªã‚’æ¤œè¨¼ã™ã‚‹E2Eãƒ†ã‚¹ãƒˆã§ã™ã€‚

```bash
# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿè¡Œ

# ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼‰
npm run test

# æœ¬ç•ªç’°å¢ƒã§AIç”ŸæˆE2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆå®Ÿéš›ã®Vertex AIå‘¼ã³å‡ºã—ã‚ã‚Šã€èª²é‡‘æ³¨æ„ï¼‰
PLAYWRIGHT_BASE_URL=https://ai-care-shift-scheduler.web.app npx playwright test e2e/ai-shift-generation.spec.ts

# UIãƒ¢ãƒ¼ãƒ‰ã§å¯¾è©±çš„ã«ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test:ui
```

**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**:
- âœ… ãƒ‡ãƒ¢ã‚·ãƒ•ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼
- âœ… AIã‚·ãƒ•ãƒˆç”ŸæˆUIãƒ•ãƒ­ãƒ¼ï¼ˆãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° â†’ ç”Ÿæˆä¸­ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ â†’ ã‚·ãƒ•ãƒˆè¡¨ç¤ºï¼‰
- âœ… ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- âœ… CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

**CI/CDç’°å¢ƒã§ã®å‹•ä½œ**:
- AIç”Ÿæˆãƒ†ã‚¹ãƒˆã¯è‡ªå‹•çš„ã«ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ã®ãŸã‚ï¼‰
- ãƒ‡ãƒ¢ã‚·ãƒ•ãƒˆãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œã•ã‚Œã¾ã™

### ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

çµ±åˆãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã™ã‚‹æ¨™æº–ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿:
- 5åã®æ¨™æº–ã‚¹ã‚¿ãƒƒãƒ•
- 4ã¤ã®æ™‚é–“å¸¯ï¼ˆæ—©ç•ªã€æ—¥å‹¤ã€é…ç•ªã€å¤œå‹¤ï¼‰
- ã‚µãƒ³ãƒ—ãƒ«ä¼‘æš‡ç”³è«‹ãƒ‡ãƒ¼ã‚¿
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆç”¨: 20åã€50åã®ã‚¹ã‚¿ãƒƒãƒ•ãƒªã‚¹ãƒˆ

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### çµ±åˆãƒ†ã‚¹ãƒˆã®ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `CLOUD_FUNCTION_URL environment variable must be set`
```bash
# è§£æ±ºç­–: Cloud Function URLã‚’è¨­å®š
export CLOUD_FUNCTION_URL=https://us-central1-ai-care-shift-scheduler.cloudfunctions.net/generateShift
```

**å•é¡Œ**: `Request failed with status code 401`
```bash
# åŸå› : GCPèªè¨¼ãŒå¿…è¦ãªå ´åˆ
gcloud auth application-default login
```

**å•é¡Œ**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹
```bash
# åŸå› : Firestoreã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒæœªä½œæˆ
cd functions
firebase deploy --only firestore:indexes
```

#### E2Eãƒ†ã‚¹ãƒˆã®ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `Timed out waiting 120000ms from config.webServer`
```bash
# åŸå› : é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã«å¤±æ•—
# è§£æ±ºç­–1: ãƒãƒ¼ãƒˆ5173ãŒä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã‹ç¢ºèª
lsof -ti:5173 | xargs kill -9

# è§£æ±ºç­–2: æœ¬ç•ªç’°å¢ƒã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
PLAYWRIGHT_BASE_URL=https://ai-care-shift-scheduler.web.app npm run test
```

**å•é¡Œ**: AIç”Ÿæˆãƒ†ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹ï¼ˆ90ç§’è¶…éï¼‰
```bash
# åŸå› : Cloud Functionsã®ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆ + å¤§è¦æ¨¡ã‚·ãƒ•ãƒˆç”Ÿæˆ
# è§£æ±ºç­–: ãƒ†ã‚¹ãƒˆã‚’å†å®Ÿè¡Œï¼ˆ2å›ç›®ä»¥é™ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§é«˜é€ŸåŒ–ï¼‰
```

#### Vertex AIã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `Vertex AI API has not been enabled`
```bash
# è§£æ±ºç­–: Vertex AI APIã‚’æœ‰åŠ¹åŒ–
gcloud services enable aiplatform.googleapis.com --project=ai-care-shift-scheduler
```

**å•é¡Œ**: `Model gemini-2.5-flash-lite not found`
```bash
# åŸå› : ãƒ¢ãƒ‡ãƒ«åãŒé–“é•ã£ã¦ã„ã‚‹ã€ã¾ãŸã¯ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãŒé–“é•ã£ã¦ã„ã‚‹
# ç¢ºèª: functions/src/shift-generation.ts ã§ä»¥ä¸‹ã‚’ç¢ºèª
# - ãƒ¢ãƒ‡ãƒ«å: gemini-2.5-flash-liteï¼ˆ-latestãªã—ã€GAå®‰å®šç‰ˆï¼‰
# - ãƒªãƒ¼ã‚¸ãƒ§ãƒ³: us-central1ï¼ˆã“ã®ãƒ¢ãƒ‡ãƒ«ãŒåˆ©ç”¨å¯èƒ½ãªå”¯ä¸€ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
```

**å•é¡Œ**: `Quota exceeded for quota metric 'aiplatform.googleapis.com/generate_content_requests'`
```bash
# åŸå› : Vertex AI APIã®ã‚¯ã‚©ãƒ¼ã‚¿è¶…é
# è§£æ±ºç­–: GCP Consoleã§ã‚¯ã‚©ãƒ¼ã‚¿å¢—åŠ ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```

#### Firestoreã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `Missing or insufficient permissions`
```bash
# åŸå› : Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ãŒå³ã—ã™ãã‚‹ï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰
# è§£æ±ºç­–: firebase.jsonã§é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã®ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºèª
# æ³¨æ„: MVPã§ã¯èªè¨¼ãªã—ã®ãŸã‚ã€æœ¬ç•ªç’°å¢ƒã§ã‚‚å…¨é–‹æ”¾çŠ¶æ…‹
```

è©³ç´°ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ [.kiro/specs/ai-shift-integration-test/tasks.md](.kiro/specs/ai-shift-integration-test/tasks.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ› æ—¢çŸ¥ã®å•é¡Œ

1. **èªè¨¼æ©Ÿèƒ½ãŒãªã„**
   - Phase 2ã§ Firebase Authentication å°å…¥äºˆå®š

## ğŸ—“ï¸ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: MVPï¼ˆå®Œäº†ï¼‰ - 2025å¹´Q4
- âœ… åŸºæœ¬çš„ãªã‚·ãƒ•ãƒˆä½œæˆæ©Ÿèƒ½
- âœ… Firebase Hostingãƒ‡ãƒ—ãƒ­ã‚¤
- âœ… Cloud Functionså®Ÿè£…ï¼ˆGemini 2.5 Flash-Liteï¼‰

### Phase 2: èªè¨¼ã¨ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ - 2026å¹´Q1
- Firebase Authenticationå°å…¥
- äº‹æ¥­æ‰€ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿åˆ†é›¢
- ç®¡ç†è€…æ¨©é™ç®¡ç†

### Phase 3: é«˜åº¦ãªæœ€é©åŒ– - 2026å¹´Q2
- éå»ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã®å­¦ç¿’
- ã‚¹ã‚¿ãƒƒãƒ•å¸Œæœ›ã®è‡ªå‹•è€ƒæ…®
- å…¬å¹³æ€§ã‚¹ã‚³ã‚¢ã®å¯è¦–åŒ–

### Phase 4: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºæ©Ÿèƒ½ - 2026å¹´Q3-Q4
- è¤‡æ•°äº‹æ¥­æ‰€ä¸€æ‹¬ç®¡ç†
- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªï¼ˆã‚¹ã‚¿ãƒƒãƒ•ç”¨ï¼‰
- çµ¦ä¸ã‚·ã‚¹ãƒ†ãƒ é€£æºAPI

è©³ç´°ã¯ [.kiro/steering/product.md](.kiro/steering/product.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ­“è¿ã—ã¾ã™ï¼ä»¥ä¸‹ã®æ‰‹é †ã§ãŠé¡˜ã„ã—ã¾ã™ï¼š

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'feat: Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

```
<type>: <subject>

type: feat, fix, docs, style, refactor, test, chore
```

ä¾‹:
- `feat: ã‚¹ã‚¿ãƒƒãƒ•æƒ…å ±ç·¨é›†æ©Ÿèƒ½ã‚’è¿½åŠ `
- `fix: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºã®ãƒã‚°ã‚’ä¿®æ­£`
- `docs: README.mdã‚’æ›´æ–°`

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](LICENSE) ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ‘¨â€ğŸ’» é–‹ç™ºè€…

**Yasushi Honda**
- Email: admin@fuku-no-tane.com
- GitHub: [@yasushi-honda](https://github.com/yasushi-honda)

## ğŸ™ è¬è¾

- **Google Cloud Platform** - ã‚¤ãƒ³ãƒ•ãƒ©ã¨AIã‚µãƒ¼ãƒ“ã‚¹
- **Firebase** - ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹
- **React** - UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **Tailwind CSS** - ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- **Claude Code** - AIæ”¯æ´é–‹ç™ºç’°å¢ƒ

---

**æœ¬ç•ªç’°å¢ƒ**: https://ai-care-shift-scheduler.web.app

**å•ã„åˆã‚ã›**: [Issues](https://github.com/yasushi-honda/ai-care-shift-scheduler/issues)
